extends layout

block scripts
  script.
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.querySelector('#registration-status-review-form');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        console.log(formData);
        //- try {
        //-   const response = await fetch('/inventory/'+actionURL, {
        //-     method: 'POST',
        //-     body: enteredPassword,
        //-     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
        //-   });
        //-   if (!response.ok) {
        //-     alert('Invalid Password!');
        //-   } else {
        //-     alert('Valid Password!')
        //-   }
        //- } catch (err) {
        //-   console.error('Error:', err);
        //- }
      });
    });

block content
  include mixins/labelValue 
  include mixins/inputField
  include mixins/adminForm
  include mixins/customRadio
  header.registration-status-header
    h1 #{type.charAt(0).toUpperCase() + type.slice(1)} Registration: #{id}
    h2.registration-status-status status: 
      span(class=`${status}-status`) #{status.charAt(0).toUpperCase() + status.slice(1)}
    +labelValue('submitted:',createdAt)
  each sectionData,sectionName in dataSections
    section.status-form-data-section 
    h3 #{sectionName.charAt(0).toUpperCase() + sectionName.slice(1)}
    each value,label in sectionData
      +labelValue(`${label}:`,value)
  +adminForm(`/registration-status/${id}`,'registration-status-review-form')
      input(style='display:none;' name='registrationId' value=id)
      div.status-form-review-radio-container
        +customRadio('Accept','registrationAction', 'acceptRegistration', 'accept', {selected: status === 'accepted', disabled: status !== 'pending'})
        +customRadio('Reject','registrationAction', 'rejectRegistration', 'reject', {selected: status === 'rejected', disabled: status !== 'pending'})